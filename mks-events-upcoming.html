<!DOCTYPE html>
<html lang="cs"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Program akcí</title>
<meta name="color-scheme" content="light">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fff6f2; --card:#fff; --text:#202225; --muted:#555; --chip:#f5f6fa; --divider:#e8e8ee;
  --rail:56px;
}
*{box-sizing:border-box}
body{ margin:0;padding:16px;background:linear-gradient(180deg,var(--bg),#fff0ec);
      color:var(--text);font:16px/1.7 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu }
.wrapper{max-width:980px;margin:0 auto}
.grid{display:grid;gap:16px;grid-template-columns:1fr}

/* karta + kolejnice */
.card{
  position:relative;
  display:flex; gap:18px; align-items:stretch;
  background:var(--card); border-radius:16px; padding:18px;
  padding-left:calc(18px + var(--rail));
  box-shadow:0 6px 24px rgba(0,0,0,.08);
  transition: transform .15s ease, box-shadow .2s ease;
}
.card::before{ content:""; position:absolute; left:0; top:0; bottom:0; width:var(--rail);
  background:var(--bar,#f4a261); border-radius:16px 0 0 16px; }
.card::after{ content:attr(data-calendar); position:absolute; left:0; top:0; bottom:0; width:var(--rail);
  display:flex; align-items:center; justify-content:center; writing-mode:vertical-rl; text-orientation:mixed;
  color:#fff; font-weight:700; letter-spacing:.3px; padding:8px 0; text-align:center; overflow:hidden; opacity:.95; }
.card:hover{ transform:translateY(-2px); box-shadow:0 10px 30px rgba(0,0,0,.12); }

/* plakát */
.media{ flex:0 0 340px; max-width:340px; align-self:flex-start; }
.poster-wrap{ background:#fff; border-radius:12px; overflow:hidden; border:1px solid rgba(0,0,0,.06);
              box-shadow:0 4px 12px rgba(0,0,0,.06); cursor: zoom-in; }
.poster{ display:block; width:100%; height:auto; max-height:640px; transition:.3s transform,.3s filter; }
.card:hover .poster{ transform:scale(1.03); filter:brightness(1.05); }

/* pravý sloupec */
.body{flex:1; min-width:0; display:flex; flex-direction:column;}

/* META: vpravo – 📍Místo → 📅Datum → ⏰Čas, vše jako badge */
.meta{
  display:flex; align-items:center; gap:10px; padding:10px 0;
  border-bottom:1px solid var(--divider); justify-content:flex-end; flex-wrap:wrap;
}
.badge{
  display:inline-block; background:var(--chip); color:#3d4051;
  border-radius:6px; padding:4px 10px; font-size:14px; font-weight:600;
}
.badge--location{}

/* TITULEK a POPIS – bez čar */
.title{ margin:0; padding:12px 0 6px; font-size:26px; line-height:1.25; font-weight:700; }
.desc{ color:#2a2d3a; font-size:17px; padding:6px 0 12px; }

/* tlačítka – čára jen tady */
.actions{
  margin-top:auto; display:flex; flex-wrap:wrap; gap:10px; justify-content:center; width:100%;
  border-top:1px solid var(--divider); padding-top:12px;
  container-type:inline-size; /* pro container query */
}
.btn{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid rgba(0,0,0,.1); background:#fff;
  padding:8px 12px; border-radius:10px; font-weight:600; font-size:14px;
  box-shadow:0 2px 8px rgba(0,0,0,.04);
  cursor:pointer; color:#1a1f36;
  text-decoration:none;             /* NEpodtrhávat */
}
.btn:hover,.btn:focus{ text-decoration:none }      /* přepiš globální a:hover */
.btn .ico{ font-size:16px; line-height:1; text-decoration:none }
.btn .label{ display:inline }

/* —— Compact tlačítka (jen ikonky) — čistě CSS —— */
@supports (container-type: inline-size) {
  @container (max-width: 440px) {
    .actions{ gap:12px }
    .actions .btn{ padding:10px; width:44px; height:44px; border-radius:12px }
    .actions .btn .label{ display:none }
    .actions .btn .ico{ font-size:20px }
  }
}
@supports not (container-type: inline-size) {
  @media (max-width: 520px){
    .actions{ gap:12px }
    .actions .btn{ padding:10px; width:44px; height:44px; border-radius:12px }
    .actions .btn .label{ display:none }
    .actions .btn .ico{ font-size:20px }
  }
}

/* barvy podle kalendáře */
.card[data-calendar*="KD"]{ --bar:#e76f51; }
.card[data-calendar*="Hamr"]{ --bar:#2a9d8f; }
.card[data-calendar*="Taneční"]{ --bar:#e9c46a; }
.card[data-calendar*="Sviny"]{ --bar:#264653; }

/* responsive */
@media (max-width:740px){
  .card{ flex-direction:column; --rail:42px; }
  .card::after{ font-size:12px; }
  .media{ flex:unset; max-width:100% }
}

/* globální odkazy */
a{ color:#0b69d7; text-decoration:none }
a:hover{ text-decoration:underline }
/* …ale tlačítka NIKDY nepodtrhávat */
.actions .btn, .actions .btn:hover, .actions .btn:focus{ text-decoration:none }
</style>
<script type="application/ld+json">
[
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Podzimní Svinenské výšlapy",
  "startDate": "2025-10-18T08:00:00+02:00",
  "endDate": "2025-10-18T17:00:00+02:00",
  "description": "Zveme Vás na podzimní turistický pochod krajinou Trhovosvinenska. Těšte se na tři trasy - 9 km, 20 km a 36 km. Start v Kulturním a informačním centru, Žižkovo nám. 40, od 8:00 - 10:00 hodin. Cíl na Buškově hamru od 11 - 17 hodin. \nStartovné 200 Kč\nRegistrace na stránkách www.kulturavesvinech.cz nebo v Kulturním informačním centru (tel.: 386 301 488, e-mail: kic@tsviny.cz)",
  "location": {
    "@type": "Place",
    "name": "Kulturní a informační centru a Buškův hamr"
  }
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "ZŠ - natáčení",
  "startDate": "2025-10-20T12:00:00+02:00",
  "endDate": "2025-10-20T13:00:00+02:00",
  "description": "Koncert hudebního uskupení Žestě dvěstě."
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Křest knihy Svinenský uličník",
  "startDate": "2025-11-08T15:00:00+01:00",
  "endDate": "2025-11-08T18:00:00+01:00",
  "description": "Křest knihy mladého autora - svinenského kronikáře Matěje Průky, který nám na jejích stránkách odtajní, jak vznikaly a měnily se názvy ulic v Trhových Svinech a nejen to.",
  "location": {
    "@type": "Place",
    "name": "Taneční sál KD Trhové Sviny"
  }
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Zastupitelstvo",
  "startDate": "2025-11-17T17:00:00+01:00",
  "endDate": "2025-11-17T19:00:00+01:00",
  "description": ""
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Od hospody k hospodě V",
  "startDate": "2025-12-11T18:00:00+01:00",
  "endDate": "2025-12-11T20:00:00+01:00",
  "description": "cca 25 lidí",
  "location": {
    "@type": "Place",
    "name": "Sál KD"
  }
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Duchem proti své vůli",
  "startDate": "2025-12-17T19:00:00+01:00",
  "endDate": "2025-12-17T21:30:00+01:00",
  "description": "Divadlo"
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Koledy vystřižené z plechu",
  "startDate": "2025-12-26T17:00:00+01:00",
  "endDate": "2025-12-26T18:30:00+01:00",
  "description": "Koncert hudebního uskupení Žestě dvěstě.",
  "location": {
    "@type": "Place",
    "name": "Kostel Nanebevzetí Panny Marie v Trhových Svinech."
  }
}
{
  "@context": "https://schema.org",
  "@type": "Event",
  "name": "Hospoda na mýtince",
  "startDate": "2026-06-24",
  "endDate": "2026-06-24",
  "description": ""
}
]
</script>
</head>
<body>
  <div class="wrapper">
    <div class="grid" id="grid"><article class="card" data-calendar="MKS Buškův hamr">
    
    <div class="body">
      
    <div class="meta">
      <span class="badge badge--location">📍 Kulturní a informační centru a Buškův hamr</span>
      <span class="badge">📅 18.10.2025</span>
      <span class="badge">⏰ 08:00 – 17:00</span>
    </div>
      <h2 class="title">Podzimní Svinenské výšlapy</h2>
      <div class="desc">Zveme Vás na podzimní turistický pochod krajinou Trhovosvinenska. Těšte se na tři trasy - 9 km, 20 km a 36 km. Start v Kulturním a informačním centru, Žižkovo nám. 40, od 8:00 - 10:00 hodin. Cíl na Buškově hamru od 11 - 17 hodin. 
Startovné 200 Kč
Registrace na stránkách www.kulturavesvinech.cz nebo v Kulturním informačním centru (tel.: 386 301 488, e-mail: kic@tsviny.cz)</div>
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-10-18-podzimni-svinenske-vyslapy.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article><article class="card" data-calendar="Kulturní dům">
    
    <div class="body">
      
    <div class="meta">
      
      <span class="badge">📅 20.10.2025</span>
      <span class="badge">⏰ 12:00 – 13:00</span>
    </div>
      <h2 class="title">ZŠ - natáčení</h2>
      <div class="desc">Koncert hudebního uskupení Žestě dvěstě.</div>
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-10-20-zs-nataceni.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article><article class="card" data-calendar="MKS Taneční sál">
    
    <div class="body">
      
    <div class="meta">
      <span class="badge badge--location">📍 Taneční sál KD Trhové Sviny</span>
      <span class="badge">📅 8.11.2025</span>
      <span class="badge">⏰ 15:00 – 18:00</span>
    </div>
      <h2 class="title">Křest knihy Svinenský uličník</h2>
      <div class="desc">Křest knihy mladého autora - svinenského kronikáře Matěje Průky, který nám na jejích stránkách odtajní, jak vznikaly a měnily se názvy ulic v Trhových Svinech a nejen to.</div>
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-11-08-krest-knihy-svinensky-ulicnik.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article><article class="card" data-calendar="Taneční sál">
    
    <div class="body">
      
    <div class="meta">
      
      <span class="badge">📅 17.11.2025</span>
      <span class="badge">⏰ 17:00 – 19:00</span>
    </div>
      <h2 class="title">Zastupitelstvo</h2>
      
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-11-17-zastupitelstvo.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article><article class="card" data-calendar="Taneční sál">
    
    <div class="body">
      
    <div class="meta">
      <span class="badge badge--location">📍 Sál KD</span>
      <span class="badge">📅 11.12.2025</span>
      <span class="badge">⏰ 18:00 – 20:00</span>
    </div>
      <h2 class="title">Od hospody k hospodě V</h2>
      <div class="desc">cca 25 lidí</div>
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-12-11-od-hospody-k-hospode-v.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article><article class="card" data-calendar="MKS Kulturní dům">
    
    <div class="body">
      
    <div class="meta">
      
      <span class="badge">📅 17.12.2025</span>
      <span class="badge">⏰ 19:00 – 21:30</span>
    </div>
      <h2 class="title">Duchem proti své vůli</h2>
      <div class="desc">Divadlo</div>
      
    <div class="actions">
      <a class="btn" href="undefined" target="_blank" rel="noopener" title="Přidat do Google kalendáře">
        <span class="ico">🗓️</span><span class="label">Přidat do Google kalendáře</span>
      </a>
      <a class="btn" href="undefined" download="2025-12-17-duchem-proti-sve-vuli.ics" title="Přidat do Apple kalendáře">
        <span class="ico">🍎</span><span class="label">Přidat do Apple kalendáře</span>
      </a>
    </div>
    </div>
  </article></div>
    <div id="load-more-sentinel" style="height:1px"></div>
  </div>

  <div class="lightbox" id="lightbox" aria-hidden="true"><img id="lightbox-img" alt=""></div>

<script>
window.__REST_EVENTS = [{"title":"Koledy vystřižené z plechu","calendar":"MKS Kostel Nanebevzetí Panny Marie","location":"Kostel Nanebevzetí Panny Marie v Trhových Svinech.","details":"Koncert hudebního uskupení Žestě dvěstě.","image":"","gcalUrl":"","icsDataUri":"","dateBadge":"26.12.2025","showTime":true,"timeText":"17:00 – 18:30"},{"title":"Hospoda na mýtince","calendar":"MKS Kulturní dům","location":"","details":"","image":"","gcalUrl":"","icsDataUri":"","dateBadge":"24.6.2026","showTime":false,"timeText":""}];

/* helpers */
function h(s){return String(s||'').replace(/[&<>]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c]))}
function ha(s){return h(s).replace(/"/g,'&quot;')}
function slugify(s){return (s||'').normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-+|-+$/g,'')||'akce'}

/* karta */
function renderCardHTML(d){
  var media = d.image
    ? '<div class="media"><div class="poster-wrap"><img class="poster" loading="lazy" decoding="async" src="'+ha(d.image)+'" alt=""></div></div>'
    : '';
  var meta = '<div class="meta">'+
               (d.location ? '<span class="badge badge--location">📍 '+h(d.location)+'</span>' : '')+
               '<span class="badge">📅 '+h(d.dateBadge)+'</span>'+
               (d.showTime ? ' <span class="badge">⏰ '+h(d.timeText)+'</span>' : '')+
             '</div>';
  var title = '<h2 class="title">'+h(d.title)+'</h2>';
  var desc  = d.details? '<div class="desc">'+h(d.details)+'</div>' : '';

  const gtxt = 'Přidat do Google kalendáře';
  const atxt = 'Přidat do Apple kalendáře';

  return '<article class="card" data-calendar="'+ha(d.calendar)+'">'+
           media+
           '<div class="body">'+
             meta + title + desc +
             '<div class="actions">'+
               '<a class="btn" href="'+ha(d.gcalUrl)+'" target="_blank" rel="noopener" title="'+ha(gtxt)+'"><span class="ico">🗓️</span> <span class="label">'+h(gtxt)+'</span></a>'+
               '<a class="btn" href="'+ha(d.icsDataUri)+'" download="'+ha(slugify(d.title))+'.ics" title="'+ha(atxt)+'"><span class="ico">🍎</span> <span class="label">'+h(atxt)+'</span></a>'+
             '</div>'+
           '</div>'+
         '</article>';
}

/* iFrame resize */
function sendHeight(){var h=document.body.scrollHeight; parent&&parent.postMessage&&parent.postMessage({type:'resize-iframe',height:h},'*');}
window.addEventListener('load',sendHeight);
window.addEventListener('resize',sendHeight);
setTimeout(sendHeight,300);

/* Lightbox */
(function(){var box=document.getElementById('lightbox'),img=document.getElementById('lightbox-img');
  document.addEventListener('click',function(e){var t=e.target;
    if(t&&t.tagName==='IMG'&&t.classList.contains('poster')){img.src=t.currentSrc||t.src;box.classList.add('open');box.setAttribute('aria-hidden','false');e.preventDefault();}
    else if(t===box){box.classList.remove('open');box.setAttribute('aria-hidden','true');img.src='';}
  });
  document.addEventListener('keydown',function(e){if(e.key==='Escape'){box.classList.remove('open');box.setAttribute('aria-hidden','true');img.src='';}});
})();

/* fallback: když se obrázek nenačte */
document.addEventListener('error',function(e){
  var t=e.target; if(t&&t.tagName==='IMG'&&t.classList.contains('poster')){
    var wrap=t.closest('.media'); if(wrap) wrap.style.display='none'; sendHeight();
  }
},true);

/* Lazy render */
(function(){
  var data = Array.isArray(window.__REST_EVENTS)? window.__REST_EVENTS.slice():[];
  if(!data.length) return;
  var grid = document.getElementById('grid');
  var sent = document.getElementById('load-more-sentinel');
  var CHUNK = 6;

  function appendChunk(){
    var part=data.splice(0,CHUNK); if(!part.length) return;
    var html=part.map(renderCardHTML).join(''); var tmp=document.createElement('div'); tmp.innerHTML=html;
    while(tmp.firstChild) grid.appendChild(tmp.firstChild);
    sendHeight();
  }
  appendChunk();
  var io=new IntersectionObserver(function(es){
    es.forEach(function(ent){ if(ent.isIntersecting){ appendChunk(); if(!data.length){ io.disconnect(); sent.remove(); } } });
  },{root:null,rootMargin:'600px 0px',threshold:0});
  io.observe(sent);
})();
</script>
</body></html>